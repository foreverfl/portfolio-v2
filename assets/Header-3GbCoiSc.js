import{j as e,u as s,m as t}from"./animation-DLwiyrrX.js";import{i as a}from"./index-CBrixoQo.js";import{u as r,r as l}from"./i18n-Z_8pH_wp.js";import{u as n,a as i}from"./index-DGtfP2Zn.js";import"./react-vendor-SNpyYW05.js";const o=({onClose:s})=>{const{tracks:t,currentTrack:r,isPlaying:l,currentTime:i,duration:o,togglePlayPause:c,playNext:d,playPrevious:m,selectTrack:x,seek:u}=n(),h=e=>`${Math.floor(e/60)}:${Math.floor(e%60).toString().padStart(2,"0")}`,p=o>0?i/o*100:0;return e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-70 z-50",children:e.jsxs("div",{className:"bg-gray-50 w-80 rounded-lg shadow-lg p-5 text-gray-800 relative",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Now Playing"}),e.jsx("button",{onClick:s,className:"text-gray-500 hover:text-gray-700 transition-colors",children:e.jsx(a.X,{size:20})})]}),e.jsxs("div",{className:"flex flex-col items-center mb-4",children:[e.jsx("div",{className:"w-32 h-32 rounded-md mb-3 shadow-lg overflow-hidden",children:r?.albumArt?e.jsx("img",{src:r.albumArt,alt:r.name,className:"w-full h-full object-cover",loading:"eager",decoding:"async",width:128,height:128}):e.jsx("div",{className:"w-full h-full bg-gradient-to-br from-blue-400 to-purple-500 flex items-center justify-center",children:e.jsx(a.Music,{size:48,className:"text-white"})})}),e.jsx("p",{className:"text-lg font-medium",children:r?.name}),e.jsx("p",{className:"text-sm text-gray-500",children:r?.artist})]}),e.jsx("div",{className:"w-full bg-gray-200 h-1 rounded-full my-3 cursor-pointer",onClick:e=>{const s=e.currentTarget.getBoundingClientRect(),t=(e.clientX-s.left)/s.width;u(t*o)},children:e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 h-full rounded-full transition-all",style:{width:`${p}%`}})}),e.jsxs("div",{className:"flex justify-between text-sm text-gray-500 mb-3",children:[e.jsx("span",{children:h(i)}),e.jsx("span",{children:h(o)})]}),e.jsxs("div",{className:"flex items-center justify-center space-x-5 mb-5",children:[e.jsx("button",{onClick:m,className:"text-gray-600 hover:text-gray-900 transition-colors p-2 hover:bg-gray-100 rounded-full",children:e.jsx(a.SkipBack,{size:24})}),e.jsx("button",{onClick:c,className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white p-3 rounded-full hover:shadow-lg transition-all transform hover:scale-105",children:l?e.jsx(a.Pause,{size:24}):e.jsx(a.Play,{size:24})}),e.jsx("button",{onClick:d,className:"text-gray-600 hover:text-gray-900 transition-colors p-2 hover:bg-gray-100 rounded-full",children:e.jsx(a.SkipForward,{size:24})})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-600 mb-2",children:"Recently Played"}),t.map(s=>e.jsxs("div",{onClick:()=>x(s),className:"flex items-center p-2 mb-2 rounded-md cursor-pointer "+(r?.id===s.id?"bg-blue-100":"hover:bg-gray-100"),children:[e.jsx("div",{className:"w-8 h-8 rounded-md mr-3 overflow-hidden",children:s.albumArt?e.jsx("img",{src:s.albumArt,alt:s.name,className:"w-full h-full object-cover",loading:"lazy",decoding:"async",width:32,height:32}):e.jsx("div",{className:"w-full h-full bg-gradient-to-br from-blue-300 to-purple-400 flex items-center justify-center",children:e.jsx(a.Music,{size:12,className:"text-white"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium",children:s.name}),e.jsx("p",{className:"text-xs text-gray-500",children:s.artist})]})]},s.id))]})]})})},c=()=>{const{darkMode:n,toggleDarkMode:c}=i(),{i18n:d}=r(),[m,x]=l.useState(d.language),[u,h]=l.useState(!1),[p,g]=l.useState(!1),[f,b]=l.useState(!0),j=s(),[N,v]=l.useState(!1),y=e=>{d.changeLanguage(e),x(e.toUpperCase()),h(!1)};return l.useEffect(()=>{const e=document.querySelectorAll("#about, #experience, #projects"),s=new IntersectionObserver(e=>{let s=!1;e.forEach(e=>{e.isIntersecting&&(s=!0)}),v(s)},{threshold:.1,rootMargin:"-100px 0px 0px 0px"});return e.forEach(e=>{e&&s.observe(e)}),()=>{e.forEach(e=>{e&&s.unobserve(e)})}},[]),l.useEffect(()=>{let e=window.scrollY;const s=()=>{window.scrollY>e?b(!1):b(!0),e=window.scrollY};return window.addEventListener("scroll",s),()=>{window.removeEventListener("scroll",s)}},[]),l.useEffect(()=>{f?j.start({y:0,opacity:1}):j.start({y:-100,opacity:0})},[f,j]),e.jsxs(e.Fragment,{children:[e.jsxs(t.header,{className:`fixed z-50 top-4 right-4 md:top-8 md:right-8 lg:top-[60px] lg:right-[80px] flex items-center space-x-2 md:space-x-4 bg-transparent ${N||n?"text-white":"text-black"} p-2 rounded transition-colors duration-300`,initial:{y:0,opacity:1},animate:j,transition:{type:"spring",stiffness:300,damping:30},role:"banner",children:[e.jsxs("nav",{className:"hidden md:flex space-x-4 lg:space-x-8 pe-2 md:pe-5",children:[e.jsx("a",{href:"#about",className:"hover:no-underline text-sm md:text-base flex items-center h-6",children:"About"}),e.jsx("a",{href:"#experience",className:"hover:no-underline text-sm md:text-base flex items-center h-6",children:"Experience"}),e.jsx("a",{href:"#projects",className:"hover:no-underline text-sm md:text-base flex items-center h-6",children:"Projects"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:()=>h(!u),className:"p-0 m-0 border-none bg-transparent flex items-center h-6","aria-label":"Select language","aria-expanded":u,"aria-haspopup":"true",children:e.jsx("span",{className:(e=>{switch(e.toUpperCase()){case"EN":default:return"fi fi-us";case"JP":return"fi fi-jp";case"KR":return"fi fi-kr"}})(m)})}),u&&e.jsx("div",{className:"absolute top-full mt-2 left-0 z-10",children:e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-3 bg-white dark:bg-gray-800 px-2 md:px-3 py-2 rounded-lg shadow-lg",children:[e.jsx("button",{className:"p-0 m-0 border-none bg-transparent cursor-pointer hover:scale-110 transition-transform",onClick:()=>y("en"),"aria-label":"Change language to English",children:e.jsx("span",{className:"fi fi-us text-lg md:text-xl"})}),e.jsx("button",{className:"p-0 m-0 border-none bg-transparent cursor-pointer hover:scale-110 transition-transform",onClick:()=>y("jp"),"aria-label":"Change language to Japanese",children:e.jsx("span",{className:"fi fi-jp text-lg md:text-xl"})}),e.jsx("button",{className:"p-0 m-0 border-none bg-transparent cursor-pointer hover:scale-110 transition-transform",onClick:()=>y("kr"),"aria-label":"Change language to Korean",children:e.jsx("span",{className:"fi fi-kr text-lg md:text-xl"})})]})})]}),e.jsx("button",{onClick:c,className:"p-0 m-0 border-none bg-transparent flex items-center h-6","aria-label":n?"Switch to light mode":"Switch to dark mode",children:n?e.jsx(a.Sun,{"aria-hidden":"true"}):e.jsx(a.Moon,{"aria-hidden":"true"})}),e.jsx("button",{onClick:()=>g(!0),className:"p-0 m-0 border-none bg-transparent flex items-center h-6","aria-label":"Open audio player",children:e.jsx(a.Speaker,{"aria-hidden":"true"})})]}),p&&e.jsx(o,{onClose:()=>g(!1)})]})};export{c as default};
